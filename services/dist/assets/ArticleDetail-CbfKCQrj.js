import{_ as B,r as v,l as R,b as r,g as _,e as t,t as n,f as p,w as g,h as m,p as H,F as N,i as U,q as V,s as D,o as i}from "./index-vWGMtcT0.js";const T={class:"article-detail-page"},z={key:0,class:"loading-container"},L={key:1,class:"error-container"},E={class:"error-message"},F={key:2,class:"article-container"},S={class:"article-header"},j={class:"container"},P={class:"breadcrumb"},q={class:"breadcrumb-current"},W={class:"article-meta"},G={class:"meta-left"},J={class:"article-category"},K={class:"article-date"},O={class:"article-read-time"},Q={class:"meta-right"},X={class:"share-buttons"},Y={class:"article-title"},Z={class:"author-info"},tt=["src","alt"],et={class:"author-details"},st={class:"author-name"},at={class:"author-bio"},ot={key:0,class:"featured-image"},lt=["src","alt"],nt={class:"article-body"},rt={class:"container"},it={class:"content-wrapper"},ct={class:"article-content"},dt=["innerHTML"],ut={key:0,class:"article-tags"},ht={class:"tags-list"},vt={class:"article-footer"},_t={class:"container"},pt={class:"back-to-articles"},gt={__name:"ArticleDetail",setup(mt){const a=v(null),u=v(!0),c=v(null),b=V(),k=D(),d="http://localhost:1337",w=async()=>{try{u.value=!0,c.value=null;const s=b.params.slug;console.log("Fetching article:",s);let e=await fetch(`${d}/api/articles?populate=*&filters[slug][$eq]=${s}`),l=await e.json();if(l.data.length===0)if(e=await fetch(`${d}/api/articles/${s}?populate=*`),e.ok){const o=await e.json();a.value=o.data}else throw new Error("Article not found");else a.value=l.data[0];console.log("Article loaded:",a.value)}catch(s){console.error("Error fetching article:",s),c.value=s.message||"Failed to fetch article"}finally{u.value=!1}},C= s=>s&&s.url?s.url.startsWith("http")?s.url:`${d}${s.url}`:"https://via.placeholder.com/800x400/f3f4f6/9ca3af?text=No+Image",f= s=>s&&s.name?s.name:"Anonymous",A= s=>s&&s.bio?s.bio:"No bio available",x= s=>{if(s&&s.avatar&&s.avatar.url){const e=s.avatar.url;return e.startsWith("http")?e:`${d}${e}`}return"https://via.placeholder.com/60x60/f3f4f6/9ca3af?text=A"},y= s=>{const e={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(s).toLocaleDateString("en-US",e)},$= s=>{const l=s.split(/\s+/).length;return Math.ceil(l/200)},M= s=>{s.target.src="https://via.placeholder.com/800x400/f3f4f6/9ca3af?text=Image+Not+Found"},h= s=>{const e=window.location.href,l=a.value?a.value.title:"";let o="";switch(s){case"twitter":o=`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(l)}`;break;case"facebook":o=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`;break;case"linkedin":o=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`;break}o&&window.open(o,"_blank","width=600,height=400")},I=()=>{k.push("/articles")};return R(()=>{w()}),(s, e)=>{const l=H("router-link");return i(),r("div",T,[u.value?(i(),r("div",z,e[3]||(e[3]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading article...",-1)]))):c.value?(i(),r("div",L,[t("div",E,[e[4]||(e[4]=t("h3",null,"Article not found",-1)),t("p",null,n(c.value),1),t("button",{onClick:I,class:"back-button"}," Back to Articles ")])])):a.value?(i(),r("article",F,[t("header",S,[t("div",j,[t("nav",P,[p(l,{to:"/",class:"breadcrumb-link"},{default:g(()=>e[5]||(e[5]=[m("Home")])),_:1,__:[5]}),e[7]||(e[7]=t("span",{class:"breadcrumb-separator"},"/",-1)),p(l,{to:"/articles",class:"breadcrumb-link"},{default:g(()=>e[6]||(e[6]=[m("Articles")])),_:1,__:[6]}),e[8]||(e[8]=t("span",{class:"breadcrumb-separator"},"/",-1)),t("span",q,n(a.value.title),1)]),t("div",W,[t("div",G,[t("span",J,n(a.value.category||"General"),1),t("time",K,n(y(a.value.publishedAt)),1),t("span",O,n($(a.value.content))+" min read ",1)]),t("div",Q,[t("div",X,[t("button",{onClick:e[0]||(e[0]= o=>h("twitter")),class:"share-button twitter"},e[9]||(e[9]=[t("svg",{class:"share-icon",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})],-1)])),t("button",{onClick:e[1]||(e[1]= o=>h("facebook")),class:"share-button facebook"},e[10]||(e[10]=[t("svg",{class:"share-icon",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})],-1)])),t("button",{onClick:e[2]||(e[2]= o=>h("linkedin")),class:"share-button linkedin"},e[11]||(e[11]=[t("svg",{class:"share-icon",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})],-1)]))])])]),t("h1",Y,n(a.value.title),1),t("div",Z,[t("img",{src:x(a.value.author),alt:f(a.value.author),class:"author-avatar"},null,8,tt),t("div",et,[t("h3",st,n(f(a.value.author)),1),t("p",at,n(A(a.value.author)),1)])])])]),a.value.cover?(i(),r("div",ot,[t("img",{src:C(a.value.cover),alt:a.value.title,onError:M},null,40,lt)])):_("",!0),t("div",nt,[t("div",rt,[t("div",it,[t("div",ct,[t("div",{innerHTML:a.value.content,class:"prose"},null,8,dt),a.value.tags&&a.value.tags.length?(i(),r("div",ut,[e[12]||(e[12]=t("h4",null,"Tags:",-1)),t("div",ht,[(i(!0),r(N,null,U(a.value.tags, o=>(i(),r("span",{key:o,class:"tag"},n(o),1))),128))])])):_("",!0)])])])]),t("footer",vt,[t("div",_t,[t("div",pt,[p(l,{to:"/articles",class:"back-link"},{default:g(()=>e[13]||(e[13]=[t("svg",{class:"back-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),m(" Back to All Articles ")])),_:1,__:[13]})])])])])):_("",!0)])}}},bt=B(gt,[["__scopeId","data-v-72fb4716"]]);export{bt as default};
